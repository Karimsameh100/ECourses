{"ast":null,"code":"var _jsxFileName = \"/home/hp/Downloads/lastupdate/src/Components/ProductItem.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { addToCart } from '../store/Actions/cartActions';\nimport emptyheart from '../assets/emptyheart.png';\nimport fullheart from \"../assets/fullreadheart.png\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport i18n from 'i18next';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Product({\n  id,\n  images,\n  title,\n  description,\n  price\n}) {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const rtl = i18n.language === \"ar\";\n  const navigate = useNavigate();\n  const imageUrl = images[0].replace(/[\\[\\]\"\"]/g, '');\n  const [amount, setAmount] = useState(() => {\n    const storedAmount = localStorage.getItem(`amount-${id}`);\n    return storedAmount ? parseInt(storedAmount) : null;\n  });\n  useEffect(() => {\n    if (amount === null) {\n      const generateRandomAmount = () => {\n        const randomAmount = Math.floor(Math.random() * 10) + 1;\n        setAmount(randomAmount);\n        localStorage.setItem(`amount-${id}`, randomAmount);\n      };\n      generateRandomAmount();\n    }\n  }, [id]);\n  const dispatch = useDispatch();\n  const favorites = useSelector(state => state.favoriteProduct.favorites);\n  const isFavorite = Array.isArray(favorites) ? favorites.find(fav => fav.id === id) !== undefined : false;\n  const handleFavoriteClick = event => {\n    event.preventDefault();\n    dispatch({\n      type: 'TOGGLE_FAVORITE',\n      payload: {\n        id,\n        images,\n        title,\n        price\n      }\n    });\n  };\n\n  // const handleAddToCart = () => {\n  //   const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n\n  //   if (isLoggedIn) {\n  //     dispatch(addToCart({ id, title, price, imageUrl, quantity: 1 }));\n  //   } else {\n  //     navigate(\"/Registration\");\n  //   }\n\n  // }\n  const handleAddToCart = () => {\n    const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n    if (isLoggedIn) {\n      dispatch(addToCart({\n        id,\n        title,\n        price,\n        image,\n        quantity: 1\n      }));\n      const newAmount = amount - 1;\n      setAmount(newAmount);\n      localStorage.setItem(`amount-${id}`, newAmount);\n    } else {\n      navigate(\"/Registration\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `max-w-sm h-96 flex-col justify-between bg-white rounded-lg shadow-md overflow-hidden mx-3 my-6 w-72 relative ${rtl ? 'rtl' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/productdetails/${id}`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrl,\n        alt: title,\n        className: \"w-full h-1/2 object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"#\",\n      onClick: handleFavoriteClick,\n      className: `absolute top-2 ${rtl ? 'left-8' : 'right-8'}`,\n      children: isFavorite ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: fullheart,\n        width: 35,\n        height: 35,\n        className: \"text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: emptyheart,\n        width: 35,\n        height: 35,\n        className: \"text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-lg h-1/4 font-bold mb-2\",\n        children: t('title', {\n          title\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 h-1/10 text-md mb-4\",\n        children: t('onlyLeft', {\n          amount\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg font-bold\",\n          children: t('price', {\n            price\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded\",\n          onClick: handleAddToCart,\n          children: t('addToCart')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(Product, \"Bc+pJ+g3073b0aHTA9ufqC+7Tec=\", false, function () {\n  return [useTranslation, useNavigate, useDispatch, useSelector];\n});\n_c = Product;\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","Link","addToCart","emptyheart","fullheart","useSelector","useDispatch","i18n","useTranslation","useNavigate","jsxDEV","_jsxDEV","Product","id","images","title","description","price","_s","t","rtl","language","navigate","imageUrl","replace","amount","setAmount","useState","storedAmount","localStorage","getItem","parseInt","useEffect","generateRandomAmount","randomAmount","Math","floor","random","setItem","dispatch","favorites","state","favoriteProduct","isFavorite","Array","isArray","find","fav","undefined","handleFavoriteClick","event","preventDefault","type","payload","handleAddToCart","isLoggedIn","image","quantity","newAmount","className","children","to","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","width","height","_c","$RefreshReg$"],"sources":["/home/hp/Downloads/lastupdate/src/Components/ProductItem.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { addToCart } from '../store/Actions/cartActions';\nimport emptyheart from '../assets/emptyheart.png';\nimport fullheart from \"../assets/fullreadheart.png\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport i18n from 'i18next';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom'\n\nfunction Product({ id, images, title, description, price }) {\n  const { t } = useTranslation();\n  const rtl = i18n.language === \"ar\";\n  const navigate = useNavigate(); \n\n  \n  const imageUrl = images[0].replace(/[\\[\\]\"\"]/g, '');\n  const [amount, setAmount] = useState(() => {\n    const storedAmount = localStorage.getItem(`amount-${id}`);\n    return storedAmount ? parseInt(storedAmount) : null;\n  });\n\n  useEffect(() => {\n    if (amount === null) {\n      const generateRandomAmount = () => {\n        const randomAmount = Math.floor(Math.random() * 10) + 1;\n        setAmount(randomAmount);\n        localStorage.setItem(`amount-${id}`, randomAmount);\n      };\n      generateRandomAmount();\n    }\n  }, [id]);\n\n  const dispatch = useDispatch();\n  const favorites = useSelector((state) => state.favoriteProduct.favorites);\n  const isFavorite = Array.isArray(favorites) ? favorites.find((fav) => fav.id === id) !== undefined : false;\n\n  const handleFavoriteClick = (event) => {\n    event.preventDefault(); \n    dispatch({ type: 'TOGGLE_FAVORITE', payload: { id, images, title, price } });\n  };\n\n  // const handleAddToCart = () => {\n  //   const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n\n  //   if (isLoggedIn) {\n  //     dispatch(addToCart({ id, title, price, imageUrl, quantity: 1 }));\n  //   } else {\n  //     navigate(\"/Registration\");\n  //   }\n\n  // }\n  const handleAddToCart = () => {\n    const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n  \n    if (isLoggedIn) {\n      dispatch(addToCart({ id, title, price, image, quantity: 1 }));\n      const newAmount = amount - 1;\n      setAmount(newAmount);\n      localStorage.setItem(`amount-${id}`, newAmount);\n    } else {\n      navigate(\"/Registration\");\n    }\n  };\n\n  return (\n    <div\n      className={`max-w-sm h-96 flex-col justify-between bg-white rounded-lg shadow-md overflow-hidden mx-3 my-6 w-72 relative ${rtl ? 'rtl' : ''}`}\n    >\n      <Link to={`/productdetails/${id}`}>\n        <img\n          src={imageUrl}\n          alt={title}\n          className=\"w-full h-1/2 object-cover\"\n        />\n      </Link>\n      <Link to=\"#\" onClick={handleFavoriteClick} className={`absolute top-2 ${rtl ? 'left-8' : 'right-8'}`}>\n        {isFavorite ? (\n          <img src={fullheart} width={35} height={35} className=\"text-red-600\" />\n        ) : (\n          <img src={emptyheart} width={35} height={35} className=\"text-gray-400\" />\n        )}\n      </Link>\n      <div className=\"p-4\">\n        <h5 className=\"text-lg h-1/4 font-bold mb-2\">{t('title', { title })}</h5>\n        <p className=\"text-red-600 h-1/10 text-md mb-4\">{t('onlyLeft', { amount })}</p>\n        <div className=\"flex justify-between mb-4\">\n          <span className=\"text-lg font-bold\">{t('price', { price })}</span>\n          <button\n            className=\"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded\"\n            onClick={handleAddToCart}\n          >\n            {t('addToCart')}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Product;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}