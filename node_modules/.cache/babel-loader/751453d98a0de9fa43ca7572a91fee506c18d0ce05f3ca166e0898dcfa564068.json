{"ast":null,"code":"var _jsxFileName = \"/home/hp/Downloads/lastupdate/src/Components/ProductItem.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { addToCart } from '../store/Actions/cartActions';\nimport emptyheart from '../assets/emptyheart.png';\nimport fullheart from \"../assets/fullreadheart.png\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport i18n from 'i18next';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Product({\n  id,\n  images,\n  title,\n  description,\n  price\n}) {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const rtl = i18n.language === \"ar\";\n  const navigate = useNavigate();\n  const imageUrl = images[0].replace(/[\\[\\]\"\"]/g, '');\n  const [amount, setAmount] = useState(() => {\n    const storedAmount = localStorage.getItem(`amount-${id}`);\n    return storedAmount ? parseInt(storedAmount) : null;\n  });\n  useEffect(() => {\n    if (amount === null) {\n      const generateRandomAmount = () => {\n        const randomAmount = Math.floor(Math.random() * 10) + 1;\n        setAmount(randomAmount);\n        localStorage.setItem(`amount-${id}`, randomAmount);\n      };\n      generateRandomAmount();\n    }\n  }, [id]);\n  const dispatch = useDispatch();\n  const favorites = useSelector(state => state.favoriteProduct.favorites);\n  const isFavorite = Array.isArray(favorites) ? favorites.find(fav => fav.id === id) !== undefined : false;\n  const handleFavoriteClick = event => {\n    event.preventDefault();\n    dispatch({\n      type: 'TOGGLE_FAVORITE',\n      payload: {\n        id,\n        images,\n        title,\n        price\n      }\n    });\n  };\n\n  // const handleAddToCart = () => {\n  //   const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n\n  //   if (isLoggedIn) {\n  //     dispatch(addToCart({ id, title, price, imageUrl, quantity: 1 }));\n  //   } else {\n  //     navigate(\"/Registration\");\n  //   }\n\n  // }\n  const handleAddToCart = () => {\n    const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n    if (isLoggedIn) {\n      dispatch(addToCart({\n        id,\n        title,\n        price,\n        imageUrl,\n        quantity: 1\n      }));\n      const newAmount = amount - 1;\n      setAmount(newAmount);\n      localStorage.setItem(`amount-${id}`, newAmount);\n    } else {\n      navigate(\"/Registration\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `max-w-sm h-96 flex-col justify-between bg-white rounded-lg shadow-md overflow-hidden mx-2 my-4 w-72 relative ${rtl ? 'rtl' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/productdetails/${id}`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrl,\n        alt: title,\n        className: \"w-full h-1/2 object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"#\",\n      onClick: handleFavoriteClick,\n      className: `absolute top-2 ${rtl ? 'left-8' : 'right-8'}`,\n      children: isFavorite ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: fullheart,\n        width: 35,\n        height: 35,\n        className: \"text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: emptyheart,\n        width: 35,\n        height: 35,\n        className: \"text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-lg h-1/4 font-bold mb-2\",\n        children: t('title', {\n          title\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 h-1/10 text-md mb-4\",\n        children: t('onlyLeft', {\n          amount\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg font-bold\",\n          children: t('price', {\n            price\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded\",\n          onClick: handleAddToCart,\n          disabled: amount === 0,\n          children: t('addToCart')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Product, \"Bc+pJ+g3073b0aHTA9ufqC+7Tec=\", false, function () {\n  return [useTranslation, useNavigate, useDispatch, useSelector];\n});\n_c = Product;\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","Link","addToCart","emptyheart","fullheart","useSelector","useDispatch","i18n","useTranslation","useNavigate","useState","useEffect","jsxDEV","_jsxDEV","Product","id","images","title","description","price","_s","t","rtl","language","navigate","imageUrl","replace","amount","setAmount","storedAmount","localStorage","getItem","parseInt","generateRandomAmount","randomAmount","Math","floor","random","setItem","dispatch","favorites","state","favoriteProduct","isFavorite","Array","isArray","find","fav","undefined","handleFavoriteClick","event","preventDefault","type","payload","handleAddToCart","isLoggedIn","quantity","newAmount","className","children","to","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","width","height","disabled","_c","$RefreshReg$"],"sources":["/home/hp/Downloads/lastupdate/src/Components/ProductItem.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { addToCart } from '../store/Actions/cartActions';\nimport emptyheart from '../assets/emptyheart.png';\nimport fullheart from \"../assets/fullreadheart.png\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport i18n from 'i18next';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { useState,useEffect } from 'react';\n\nfunction Product({ id, images, title, description, price }) {\n  const { t } = useTranslation();\n  const rtl = i18n.language === \"ar\";\n  const navigate = useNavigate(); \n\n  \n  const imageUrl = images[0].replace(/[\\[\\]\"\"]/g, '');\n  const [amount, setAmount] = useState(() => {\n    const storedAmount = localStorage.getItem(`amount-${id}`);\n    return storedAmount ? parseInt(storedAmount) : null;\n  });\n\n  useEffect(() => {\n    if (amount === null) {\n      const generateRandomAmount = () => {\n        const randomAmount = Math.floor(Math.random() * 10) + 1;\n        setAmount(randomAmount);\n        localStorage.setItem(`amount-${id}`, randomAmount);\n      };\n      generateRandomAmount();\n    }\n  }, [id]);\n\n  const dispatch = useDispatch();\n  const favorites = useSelector((state) => state.favoriteProduct.favorites);\n  const isFavorite = Array.isArray(favorites) ? favorites.find((fav) => fav.id === id) !== undefined : false;\n\n  const handleFavoriteClick = (event) => {\n    event.preventDefault(); \n    dispatch({ type: 'TOGGLE_FAVORITE', payload: { id, images, title, price } });\n  };\n\n  // const handleAddToCart = () => {\n  //   const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n\n  //   if (isLoggedIn) {\n  //     dispatch(addToCart({ id, title, price, imageUrl, quantity: 1 }));\n  //   } else {\n  //     navigate(\"/Registration\");\n  //   }\n\n  // }\n  const handleAddToCart = () => {\n    const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n  \n    if (isLoggedIn) {\n      dispatch(addToCart({ id, title, price, imageUrl, quantity: 1 }));\n      const newAmount = amount - 1;\n      setAmount(newAmount);\n      localStorage.setItem(`amount-${id}`, newAmount);\n    } else {\n      navigate(\"/Registration\");\n    }\n  };\n\n  return (\n    <div\n      className={`max-w-sm h-96 flex-col justify-between bg-white rounded-lg shadow-md overflow-hidden mx-2 my-4 w-72 relative ${rtl ? 'rtl' : ''}`}\n    >\n      <Link to={`/productdetails/${id}`}>\n        <img\n          src={imageUrl}\n          alt={title}\n          className=\"w-full h-1/2 object-cover\"\n        />\n      </Link>\n      <Link to=\"#\" onClick={handleFavoriteClick} className={`absolute top-2 ${rtl ? 'left-8' : 'right-8'}`}>\n        {isFavorite ? (\n          <img src={fullheart} width={35} height={35} className=\"text-red-600\" />\n        ) : (\n          <img src={emptyheart} width={35} height={35} className=\"text-gray-400\" />\n        )}\n      </Link>\n      <div className=\"p-4\">\n        <h5 className=\"text-lg h-1/4 font-bold mb-2\">{t('title', { title })}</h5>\n        <p className=\"text-red-600 h-1/10 text-md mb-4\">{t('onlyLeft', { amount })}</p>\n        <div className=\"flex justify-between mb-4\">\n          <span className=\"text-lg font-bold\">{t('price', { price })}</span>\n          <button\n            className=\"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded\"\n            onClick={handleAddToCart}\n            disabled={amount === 0}\n          >\n            {t('addToCart')}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Product;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}