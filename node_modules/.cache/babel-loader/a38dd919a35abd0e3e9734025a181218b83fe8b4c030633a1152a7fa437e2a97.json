{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import Breadcrumb from\"../Components/BreadCrump\";import{useDispatch}from'react-redux';import{addToCart}from'../store/Actions/cartActions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Detailes(){var _productDit$category;const params=useParams();const[productDit,setProductDit]=useState({});const navigate=useNavigate();const dispatch=useDispatch();useEffect(()=>{axios.get(\"https://api.escuelajs.co/api/v1/products/\".concat(params.id)).then(res=>{setProductDit(res.data);}).catch(error=>console.error(error));},[params.id]);let imageUrl=\"\";if(productDit.images){imageUrl=productDit.images[0].replace(/[\\[\\]\"\"]/g,'');}const handleAddToCart=()=>{const isLoggedIn=localStorage.getItem(\"isLoggedIn\");if(isLoggedIn){dispatch(addToCart({id:productDit.id,title:productDit.title,price:productDit.price,imageUrl,quantity:1}));}else{navigate(\"/Registration\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Breadcrumb,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-lg bg-white rounded-lg m-auto mt-14 shadow-md flex\",children:[imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"Product Image\",className:\"w-1/2 h-1/2 pt-20 object-cover rounded-t-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-bold mb-1\",children:(_productDit$category=productDit.category)===null||_productDit$category===void 0?void 0:_productDit$category.name}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold mb-2\",children:productDit.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:productDit.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-bold mb-2\",children:[\"Price: $\",productDit.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded\",onClick:handleAddToCart,children:\"Add to Cart\"})]})]})]});}export default Detailes;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Breadcrumb","useDispatch","addToCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Detailes","_productDit$category","params","productDit","setProductDit","navigate","dispatch","get","concat","id","then","res","data","catch","error","console","imageUrl","images","replace","handleAddToCart","isLoggedIn","localStorage","getItem","title","price","quantity","children","className","src","alt","category","name","description","onClick"],"sources":["/home/hp/Downloads/lastupdate/src/Pages/Productdetailes.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Breadcrumb from \"../Components/BreadCrump\";\nimport { useDispatch } from 'react-redux';\nimport { addToCart } from '../store/Actions/cartActions';\n\nfunction Detailes() {\n  const params = useParams();\n  const [productDit, setProductDit] = useState({});\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    axios.get(`https://api.escuelajs.co/api/v1/products/${params.id}`)\n      .then((res) => {\n        setProductDit(res.data);\n      })\n      .catch((error) => console.error(error));\n  }, [params.id]);\n\n  let imageUrl = \"\";\n  if (productDit.images) {\n    imageUrl = productDit.images[0].replace(/[\\[\\]\"\"]/g, '');\n  }\n\n  const handleAddToCart = () => {\n    const isLoggedIn = localStorage.getItem(\"isLoggedIn\");\n\n    if (isLoggedIn) {\n      dispatch(addToCart({ \n        id: productDit.id, \n        title: productDit.title, \n        price: productDit.price, \n        imageUrl, \n        quantity: 1 \n      }));\n    } else {\n      navigate(\"/Registration\");\n    }\n  };\n\n  return (\n    <>\n      <Breadcrumb />\n      <div className=\"max-w-lg bg-white rounded-lg m-auto mt-14 shadow-md flex\">\n        {imageUrl && (\n          <img \n            src={imageUrl} \n            alt=\"Product Image\" \n            className=\"w-1/2 h-1/2 pt-20 object-cover rounded-t-lg\" \n          />\n        )}\n        <div className=\"p-4\">\n          <h1 className=\"text-lg font-bold mb-1\">{productDit.category?.name}</h1>\n          <h2 className=\"text-lg font-bold mb-2\">{productDit.title}</h2>\n          <p className=\"text-gray-600 mb-4\">{productDit.description}</p>\n          <p className=\"text-lg font-bold mb-2\">Price: ${productDit.price}</p>\n          <button\n            className=\"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded\"\n            onClick={handleAddToCart}\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Detailes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}